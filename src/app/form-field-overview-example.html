<div class="page">
  <div>
    <h1>Fill the form</h1>
  </div>

  <div>
    <form [formGroup]="myForm">
      <mat-form-field fxFlex="25" appearance="outline" class="full-width">
        <mat-label> Name </mat-label>
        <input type="text" matInput formControlName="name" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label> Choose a state </mat-label>
        <mat-select formControlName="state">
          <mat-option *ngFor="let item of dataSource" [value]="item.id">
            {{ item.description }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field fxFlex="25" appearance="outline" class="full-width">
        <mat-label> Email </mat-label>
        <input type="text" matInput formControlName="email" />
        <mat-error *ngIf="myForm.get('email')?.errors">
          Email is required if you choose SP state
        </mat-error>
      </mat-form-field>
    </form>
  </div>

  <div class="full-width submmit-button">
    <button mat-button class="full-width" [disabled]="!myForm.valid">
      Submit
    </button>
  </div>
</div>

<p>Name: {{ myForm.value.name }}</p>
<p>Item Id: {{ myForm.value.state }}</p>
<p>Email: {{ myForm.value.email }}</p>

<p>JSON = {{myForm.value|json}}</p>
