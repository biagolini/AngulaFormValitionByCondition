<div class="page full-height">
  <div>
    <h1>FILL THE FORM</h1>
  </div>

  <div>
    <form [formGroup]="myForm">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label> Name </mat-label>
        <input type="text" matInput formControlName="name" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label> Choose a state </mat-label>
        <mat-select formControlName="state">
          <mat-option *ngFor="let item of dataSource" [value]="item.id">
            {{ item.description }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label> Email </mat-label>
        <input type="text" matInput formControlName="email" />
        <mat-error *ngIf="myForm.get('email')?.errors">
          Email is required if you choose SP state
        </mat-error>
      </mat-form-field>
      <p>
        <mat-checkbox formControlName="reciveSMS"
          >I want to receive SMS</mat-checkbox
        >
      </p>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label> Phone </mat-label>
        <input type="number" matInput formControlName="phone" />
      </mat-form-field>
    </form>
  </div>

  <div class="full-width submmit-button">
    <div>
      <button
        mat-button
        class="full-width"
        [disabled]="!myForm.valid"
        (click)="onSubmmit()"
      >
        Submit
      </button>
    </div>
  </div>

  <p>Name: {{ myForm.value.name }}</p>
  <p>Item Id: {{ myForm.value.state }}</p>
  <p>Email: {{ myForm.value.email }}</p>

  <p>JSON = {{myForm.value|json}}</p>

  <button mat-button class="full-width" (click)="turnPhoneValidators()">
    Click here to set phone required
  </button>
</div>
